(this["webpackJsonpcommunity-home-react"]=this["webpackJsonpcommunity-home-react"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(2),i=n.n(r),c=(n(13),n(3)),s=n(4),u=n(6),l=n(5),m=n(7);n(14);function d(e){var t=new Map,n=!0,o=!1,a=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var c=r.value;t.has(c.communityId)?t.get(c.communityId).push(c):t.set(c.communityId,[c])}}catch(s){o=!0,a=s}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return t}var h=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={error:null,isLoaded:!1,communities:[],houses:new Map},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/communities").then((function(e){return e.json()})).then((function(t){e.setState({communities:t}),fetch("https://a18fda49-215e-47d1-9dc6-c6136a04a33a.mock.pstmn.io/homes").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,houses:d(t)})}),(function(t){e.setState({isLoaded:!0,error:t})}))}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded,o=e.communities,r=e.houses;return console.log(r),o.sort((function(e,t){return e.name>t.name?1:-1})),t?a.a.createElement("div",null,"Error: ",t.message):n?a.a.createElement("div",{className:"App"},a.a.createElement("div",{id:"communities"},o.map((function(e){return function(e,t){console.log("adad");var n=function(e){if(console.log(e),void 0===e)return{houseFound:!1,lowest:0,highest:0};for(var t,n,o=0;o<e.length;o++)0===o?(t=e[0].price,n=e[0].price):t>e[o].price?t=e[o].price:n<e[o].price&&(n=e[o].price);return{houseFound:!0,lowest:t,highest:n}}(t);return a.a.createElement("div",{key:e.id,className:"community",style:{backgroundImage:"url("+e.imgUrl+")"}},a.a.createElement("div",{className:"description"},a.a.createElement("h2",null,e.name),!0===n.houseFound?n.lowest===n.highest?a.a.createElement("p",null,"$",n.lowest):a.a.createElement("p",null,"$",n.lowest," - $",n.highest):a.a.createElement("p",null,"Prices Not Available")))}(e,r.get(e.id))})))):a.a.createElement("div",null,"Loading...")}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.75bb7ea0.chunk.js.map